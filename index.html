<!-- include a-frame -->
<script src="./aframe/examples/vendor/aframe/build/aframe.min.js"></script>

<!-- include ar.js for aframe -->
<script src='./aframe/build/aframe-ar.js'></script>
<script>ARjs.Context.baseURL = './three.js/'</script>
<script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>


<!-- start the body of your page -->
<body style='margin : 0px; overflow: hidden;'>

	<!-- add some info at the top of the page -->
	<!-- <div style='position: fixed; top: 10px; width:100%; text-align: center; z-index: 1;'>
		<a href="https://github.com/jeromeetienne/AR.js/" target="_blank">AR.js</a> - tango example for a-frame by <a href='https://twitter.com/jerome_etienne' target='_blank'>@jerome_etienne</a>
	</div> -->

		<a-scene raycaster-autorefresh id="a-scene" embedded="" arjs="sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;" class="" canvas="" inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="">

		<!-- new code -->
		<a-marker markerhandler emitevents="true" id="barcode-01" type="barcode" value="1" position="" rotation="" scale="" visible="" material="" arjs-anchor="" arjs-hit-testing="">
			<a-box id="box-01" position="0 0.5 0" material="opacity: 0.5; side: double;color:red;" rotation="" scale="" visible="" geometry=""
				event-set__enter="_event: mouseenter; _target: #boxOneText; visible: true"
        event-set__leave="_event: mouseleave; _target: #boxOneText; visible: false">
				      <a-text id="boxOneText" value="This is a box" align="center" color="#FFF" visible="false" position="0 0.6 0.55" rotation="-100 0 0" material="opacity: 0.2; side:double, color:black"
              geometry="primitive: plane; width: 1.75" material="color: #333"></a-text>
							<a-torus-knot radius="0.26" radius-tubular="0.05" position="" rotation="" scale="" visible="" material="" geometry="">
								<a-animation attribute="rotation" to="360 0 0" dur="5000" easing="linear" repeat="indefinite"></a-animation>
							</a-torus-knot>
				</a-box>
		</a-marker>

		<a-marker markerhandler emitevents="true" id="barcode-02" type="barcode" value="2" position="" rotation="" scale="" visible="" material="" arjs-anchor="" arjs-hit-testing="">
			<a-box id="box-02" position="0 0.5 0" material="opacity: 0.5; side: double;color:blue;" rotation="" scale="" visible="" geometry=""
				event-set__enter="_event: mouseenter; _target: #boxTwoText; visible: true"
        event-set__leave="_event: mouseleave; _target: #boxTwoText; visible: false">
				      <a-text id="boxTwoText" value="This is a box" align="center" color="#FFF" visible="false" position="0 0.6 0.55" rotation="-100 0 0" material="opacity: 0.2; side:double, color:black"
              geometry="primitive: plane; width: 1.75" material="color: #333"></a-text>
							<a-torus-knot radius="0.26" radius-tubular="0.05" position="" rotation="" scale="" visible="" material="" geometry="">
								<a-animation attribute="rotation" to="360 0 0" dur="5000" easing="linear" repeat="indefinite"></a-animation>
							</a-torus-knot>
				</a-box>
		</a-marker>

		<a-marker markerhandler emitevents="true" id="barcode-03" type="barcode" value="3" position="" rotation="" scale="" visible="" material="" arjs-anchor="" arjs-hit-testing="">
			<a-box id="box-03" position="0 0.5 0" material="opacity: 0.5; side: double;color:green;" rotation="" scale="" visible="" geometry=""
				event-set__enter="_event: mouseenter; _target: #boxThreeText; visible: true"
        event-set__leave="_event: mouseleave; _target: #boxThreeText; visible: false">
				      <a-text id="boxThreeText" value="This is a box" align="center" color="#FFF" visible="false" position="0 0.6 0.55" rotation="-100 0 0" material="opacity: 0.2; side:double, color:black"
              geometry="primitive: plane; width: 1.75" material="color: #333"></a-text>
							<a-torus-knot radius="0.26" radius-tubular="0.05" position="" rotation="" scale="" visible="" material="" geometry="">
								<a-animation attribute="rotation" to="360 0 0" dur="5000" easing="linear" repeat="indefinite"></a-animation>
							</a-torus-knot>
				</a-box>
		</a-marker>


	<!-- add a simple camera -->
		<a-entity camera="" position="" rotation="" scale="" visible="">
			<a-entity cursor="fuse: true; fuseTimeout: 500"
								position="0 0 -1"
								geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
								material="color: black; shader: flat">
			</a-entity>
		</a-entity>
			<canvas class="a-canvas" data-aframe-canvas="true" width="1040" height="780" style="width: 1040px; height: 780px;"></canvas><div class="a-enter-vr embedded" aframe-injected="" style="position: fixed;"><button class="a-enter-vr-button" aframe-injected=""></button></div>
			<div class="a-orientation-modal a-hidden" aframe-injected="">
				<button aframe-injected="">Exit VR</button>
			</div>
			<a-entity light="" data-aframe-default-light="" aframe-injected="" position="" rotation="" scale="" visible=""></a-entity>
			<a-entity light="" position="" data-aframe-default-light="" aframe-injected="" rotation="" scale="" visible="">
		</a-entity>
	</a-scene>

	</body>




	<!-- trial #1 -->
			<!-- <a-scene arjs="sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3; debugUIEnabled: false;">

				<a-marker markerhandler emitevents="true" id="barcode-01" type="barcode" value="1">
					<a-box position="0 0.5 0" rotation="0 45 0" color="#9AA3D9"
								 event-set__enter="_event: mouseenter; color: #8FF7FF"
								 event-set__leave="_event: mouseleave; color: #9AA3D9"></a-box>
				</a-marker>

				<a-marker type="barcode" value="2">
					<a-box id="box-3" position="0 0.5 0" color="8BB3D9"
						event-set__enter="_event: mouseenter; color: #8FF7FF"
						event-set__leave="_event: mouseleave; color: #8BB3D9"></a-box>
				</a-marker>

				<a-marker type="barcode" value="3">
					<a-box id="box-3" position="0 0.5 0" color="7CC3D9"
						event-set__enter="_event: mouseenter; color: #8FF7FF"
						event-set__leave="_event: mouseleave; color: #7CC3D9"></a-box>
				</a-marker>

				<a-entity camera look-controls>
						<a-entity cursor="fuse: true; fuseTimeout: 500"
											position="0 0 -1"
											geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
											material="color: black; shader: flat">
						</a-entity>
					</a-entity> -->

				<!-- </a-camera> -->


	<!-- old code -->

			<!-- Attempting to use .addEventListener -->
					<!-- <script>

							AFRAME.registerComponent('markerhandler', {
								 init: function () {
									 // {
								 // Set up the tick throttling. Will check if marker is active every 500ms
								 this.tick = AFRAME.utils.throttleTick(this.tick, 500, this);
							 },

							 tick: function(t, dt) {

								 let i = 0

								 if (document.querySelector("#barcode-01").object3D.visible == true) {
									 // console.log("MARKER IS PRESENT")

									 const scene = document.querySelector('#a-scene');
									 const boxOne = document.querySelector('#box-01');
									 // AR-Object02 = document.querySelector('#Object02');
									 // AR-VideoScreen =  document.querySelector('#videoScreen');
									 // console.log(boxOne);

									 boxOne.addEventListener('click', function () {
										 console.log("box-01 clickable in AR", ++i)
										 alert("I was clicked!")

									 });
									 // AR-Object02.addEventListener('click', function () { console.log("object02 clickable in AR") });
									 // videoScreen.addEventListener('click', function () { playPauseVideo(); console.log("Video Play Toggle") });
									 // playing = true;

								 // }

								 }
								 else {
									 // console.log("No Marker");
								 }

						 // });
					 		}

						 });

						 // AFRAME.registerComponent('raycaster-autorefresh', {
						 //   init: function () {
						 //     var el = this.el;
						 //     this.el.addEventListener('model-loaded', function () {
							// 		 document.querySelector("[cursor]").setAttribute("cursor", "fuse: false; rayOrigin: mouse;");
						 //       var cursorEl = el.querySelector('[raycaster]');
						 //       cursorEl.components.raycaster.refreshObjects();
						 //     });
						 //   }
						 // });
					</script> -->

				<!-- handle unknown marker -->
				<!-- <a-marker type='unknown'>
					<a-box depth="1" height="1" width="1" position='0 0.5 0' material='opacity: 0.5; side:double; color:blue;'></a-box>
				</a-marker> -->

				<!-- handle barcode 1 -->
				<!-- <a-marker markerhandler emitevents="true" id="barcode-01" type="barcode" value="1" position="" rotation="" scale="" visible="" material="" arjs-anchor="" arjs-hit-testing="">
					<a-box id="box-01" position="0 0.5 0" material="opacity: 0.5; side: double;color:red;" rotation="" scale="" visible="" geometry="">
						<a-torus-knot radius="0.26" radius-tubular="0.05" position="" rotation="" scale="" visible="" material="" geometry="">
							<a-animation attribute="rotation" to="360 0 0" dur="5000" easing="linear" repeat="indefinite"></a-animation>
						</a-torus-knot>
					</a-box>
				</a-marker> -->

				<!-- handle barcode 2 -->
				<!-- <a-marker type="barcode" value="2" position="" rotation="" scale="" visible="" material="" arjs-anchor="" arjs-hit-testing="">
					<a-box id="box-2" position="0 0.5 0" material="opacity: 0.5; side: double;color:pink;" rotation="" scale="" visible="" geometry="">
						<a-torus-knot radius="0.26" radius-tubular="0.05" position="" rotation="" scale="" visible="" material="" geometry="">
							<a-animation attribute="rotation" to="360 0 0" dur="5000" easing="linear" repeat="indefinite"></a-animation>
						</a-torus-knot>
					</a-box>
				</a-marker> -->

				<!-- handle barcode 3 -->
				<!-- <a-marker type="barcode" value="3" position="" rotation="" scale="" visible="" material="" arjs-anchor="" arjs-hit-testing="">
					<a-box id="box-3" position="0 0.5 0" material="opacity: 0.5; side: double;color:green;" rotation="" scale="" visible="" geometry="">
						<a-torus-knot radius="0.26" radius-tubular="0.05" position="" rotation="" scale="" visible="" material="" geometry="">
							<a-animation attribute="rotation" to="360 0 0" dur="5000" easing="linear" repeat="indefinite"></a-animation>
						</a-torus-knot>
					</a-box>
				</a-marker> -->
